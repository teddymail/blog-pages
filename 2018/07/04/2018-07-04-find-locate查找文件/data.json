{"title":"find,locate查找文件","date":"2018-07-04T14:41:39.000Z","source":"_posts/2018-07-04.find,locate查找文件.md","raw":"---\ntitle: find,locate查找文件\ndate: 2018-07-04 22:41:39\ntags: [Linux,Shell]\n---\n\n> 在使用linux时经常会不知道自己想要的文件在哪里存放着，可能会知道一个大致的位置但是却不知道精确目录和位置，这个时候搜索变得异常的方便，今天就来学学搜索命令。\n\n# find 搜索命令\n\n> 这个命令是真实的遍历模式，会逐层搜索需要匹配的目标，直到搜索完毕。\n\n```\n//列出当前目录文件以及子目录的所有文件\n[yuekang@ykdev test]$ find .\n.\n./abnc.txt\n\n//指定文件搜索\n[yuekang@ykdev test]$ find -name \"ab*\"\n./abnc.txt\n\n//忽略大小写搜索\n[yuekang@ykdev test]$ find -iname \"AB*\"\n./abnc.txt\n\n//搜索多个文件\n[yuekang@ykdev test]$ find . -name \"*.txt\" -o -name \"*.pdf\"\n./abnc.txt\n./ab.pdf\n\n//匹配文件路径或文件,实际上还是匹配文件\n[yuekang@ykdev test]$ find . -path \"*yuekang*\"\n[yuekang@ykdev test]$ find . -path \"*ab*\"\n./abnc.txt\n./ab.pdf\n[yuekang@ykdev ~]$ find /home/ -path \"*yuekang*\"\nfind: ‘/home/jira’: 权限不够\n/home/yuekang\n\n//正则匹配文件\n[yuekang@ykdev test]$ find . -regex \".*\\(\\.txt\\|\\.pdf\\)$\"\n./abnc.txt\n./ab.pdf\n\n//否定查找\n[yuekang@ykdev test]$ find . ! -name \"*.pdf\"\n.\n./abnc.txt\n\n```\n\n# locate 搜索命令\n\n> 这个命令不搜索具体目录，而是搜索一个数据库记录（/var/lib/mlocate/mlocate.db），更新频率为每天更新，所以可能会搜索到已经删除或者搜索不到刚创建的文件，`updatedb` 可以完成重新刷新文件信息。\n\n```\n//查找文件，当新建文件查询不到时需要手动updatedb更新本地文件数据库\n╭─root@ykdev /home/yuekang/test\n╰─# locate abnc.txt\n╭─root@ykdev /home/yuekang/test\n╰─# updatedb\n╭─root@ykdev /home/yuekang/test\n╰─# locate abnc.txt\n/home/yuekang/test/abnc.txt\n\n//通过regex\b 正则匹配文件\n\nroot@ykdev /home/yuekang/test\n╰─# locate -r \".*\\(\\.pdf\\)\"\n/home/yuekang/test/ab.pdf\n/usr/share/doc/aic94xx-firmware-30/README-94xx.pdf\n/usr/share/doc/bzip2-devel-1.0.6/manual.pdf\n/usr/share/doc/libtasn1-4.10/libtasn1.pdf\n/usr/share/doc/libxml2-devel-2.9.1/tutorial/xmltutorial.pdf\n```","slug":"2018-07-04-find-locate查找文件","published":true,"updated":"2024-09-11T07:52:02.146Z","_id":"cm0w4eg1e001qetsn3f7952yb","comments":true,"layout":"post","photos":[],"html":"<blockquote>\n<p>在使用linux时经常会不知道自己想要的文件在哪里存放着，可能会知道一个大致的位置但是却不知道精确目录和位置，这个时候搜索变得异常的方便，今天就来学学搜索命令。</p>\n</blockquote>\n<h1 id=\"find-搜索命令\"><a href=\"#find-搜索命令\" class=\"headerlink\" title=\"find 搜索命令\"></a>find 搜索命令</h1><blockquote>\n<p>这个命令是真实的遍历模式，会逐层搜索需要匹配的目标，直到搜索完毕。</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//列出当前目录文件以及子目录的所有文件</span><br><span class=\"line\">[yuekang@ykdev test]$ find .</span><br><span class=\"line\">.</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\"></span><br><span class=\"line\">//指定文件搜索</span><br><span class=\"line\">[yuekang@ykdev test]$ find -name &quot;ab*&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\"></span><br><span class=\"line\">//忽略大小写搜索</span><br><span class=\"line\">[yuekang@ykdev test]$ find -iname &quot;AB*&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\"></span><br><span class=\"line\">//搜索多个文件</span><br><span class=\"line\">[yuekang@ykdev test]$ find . -name &quot;*.txt&quot; -o -name &quot;*.pdf&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\">./ab.pdf</span><br><span class=\"line\"></span><br><span class=\"line\">//匹配文件路径或文件,实际上还是匹配文件</span><br><span class=\"line\">[yuekang@ykdev test]$ find . -path &quot;*yuekang*&quot;</span><br><span class=\"line\">[yuekang@ykdev test]$ find . -path &quot;*ab*&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\">./ab.pdf</span><br><span class=\"line\">[yuekang@ykdev ~]$ find /home/ -path &quot;*yuekang*&quot;</span><br><span class=\"line\">find: ‘/home/jira’: 权限不够</span><br><span class=\"line\">/home/yuekang</span><br><span class=\"line\"></span><br><span class=\"line\">//正则匹配文件</span><br><span class=\"line\">[yuekang@ykdev test]$ find . -regex &quot;.*\\(\\.txt\\|\\.pdf\\)$&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\">./ab.pdf</span><br><span class=\"line\"></span><br><span class=\"line\">//否定查找</span><br><span class=\"line\">[yuekang@ykdev test]$ find . ! -name &quot;*.pdf&quot;</span><br><span class=\"line\">.</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"locate-搜索命令\"><a href=\"#locate-搜索命令\" class=\"headerlink\" title=\"locate 搜索命令\"></a>locate 搜索命令</h1><blockquote>\n<p>这个命令不搜索具体目录，而是搜索一个数据库记录（&#x2F;var&#x2F;lib&#x2F;mlocate&#x2F;mlocate.db），更新频率为每天更新，所以可能会搜索到已经删除或者搜索不到刚创建的文件，<code>updatedb</code> 可以完成重新刷新文件信息。</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//查找文件，当新建文件查询不到时需要手动updatedb更新本地文件数据库</span><br><span class=\"line\">╭─root@ykdev /home/yuekang/test</span><br><span class=\"line\">╰─# locate abnc.txt</span><br><span class=\"line\">╭─root@ykdev /home/yuekang/test</span><br><span class=\"line\">╰─# updatedb</span><br><span class=\"line\">╭─root@ykdev /home/yuekang/test</span><br><span class=\"line\">╰─# locate abnc.txt</span><br><span class=\"line\">/home/yuekang/test/abnc.txt</span><br><span class=\"line\"></span><br><span class=\"line\">//通过regex\b 正则匹配文件</span><br><span class=\"line\"></span><br><span class=\"line\">root@ykdev /home/yuekang/test</span><br><span class=\"line\">╰─# locate -r &quot;.*\\(\\.pdf\\)&quot;</span><br><span class=\"line\">/home/yuekang/test/ab.pdf</span><br><span class=\"line\">/usr/share/doc/aic94xx-firmware-30/README-94xx.pdf</span><br><span class=\"line\">/usr/share/doc/bzip2-devel-1.0.6/manual.pdf</span><br><span class=\"line\">/usr/share/doc/libtasn1-4.10/libtasn1.pdf</span><br><span class=\"line\">/usr/share/doc/libxml2-devel-2.9.1/tutorial/xmltutorial.pdf</span><br></pre></td></tr></table></figure>","excerpt":"","more":"<blockquote>\n<p>在使用linux时经常会不知道自己想要的文件在哪里存放着，可能会知道一个大致的位置但是却不知道精确目录和位置，这个时候搜索变得异常的方便，今天就来学学搜索命令。</p>\n</blockquote>\n<h1 id=\"find-搜索命令\"><a href=\"#find-搜索命令\" class=\"headerlink\" title=\"find 搜索命令\"></a>find 搜索命令</h1><blockquote>\n<p>这个命令是真实的遍历模式，会逐层搜索需要匹配的目标，直到搜索完毕。</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//列出当前目录文件以及子目录的所有文件</span><br><span class=\"line\">[yuekang@ykdev test]$ find .</span><br><span class=\"line\">.</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\"></span><br><span class=\"line\">//指定文件搜索</span><br><span class=\"line\">[yuekang@ykdev test]$ find -name &quot;ab*&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\"></span><br><span class=\"line\">//忽略大小写搜索</span><br><span class=\"line\">[yuekang@ykdev test]$ find -iname &quot;AB*&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\"></span><br><span class=\"line\">//搜索多个文件</span><br><span class=\"line\">[yuekang@ykdev test]$ find . -name &quot;*.txt&quot; -o -name &quot;*.pdf&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\">./ab.pdf</span><br><span class=\"line\"></span><br><span class=\"line\">//匹配文件路径或文件,实际上还是匹配文件</span><br><span class=\"line\">[yuekang@ykdev test]$ find . -path &quot;*yuekang*&quot;</span><br><span class=\"line\">[yuekang@ykdev test]$ find . -path &quot;*ab*&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\">./ab.pdf</span><br><span class=\"line\">[yuekang@ykdev ~]$ find /home/ -path &quot;*yuekang*&quot;</span><br><span class=\"line\">find: ‘/home/jira’: 权限不够</span><br><span class=\"line\">/home/yuekang</span><br><span class=\"line\"></span><br><span class=\"line\">//正则匹配文件</span><br><span class=\"line\">[yuekang@ykdev test]$ find . -regex &quot;.*\\(\\.txt\\|\\.pdf\\)$&quot;</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\">./ab.pdf</span><br><span class=\"line\"></span><br><span class=\"line\">//否定查找</span><br><span class=\"line\">[yuekang@ykdev test]$ find . ! -name &quot;*.pdf&quot;</span><br><span class=\"line\">.</span><br><span class=\"line\">./abnc.txt</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"locate-搜索命令\"><a href=\"#locate-搜索命令\" class=\"headerlink\" title=\"locate 搜索命令\"></a>locate 搜索命令</h1><blockquote>\n<p>这个命令不搜索具体目录，而是搜索一个数据库记录（&#x2F;var&#x2F;lib&#x2F;mlocate&#x2F;mlocate.db），更新频率为每天更新，所以可能会搜索到已经删除或者搜索不到刚创建的文件，<code>updatedb</code> 可以完成重新刷新文件信息。</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//查找文件，当新建文件查询不到时需要手动updatedb更新本地文件数据库</span><br><span class=\"line\">╭─root@ykdev /home/yuekang/test</span><br><span class=\"line\">╰─# locate abnc.txt</span><br><span class=\"line\">╭─root@ykdev /home/yuekang/test</span><br><span class=\"line\">╰─# updatedb</span><br><span class=\"line\">╭─root@ykdev /home/yuekang/test</span><br><span class=\"line\">╰─# locate abnc.txt</span><br><span class=\"line\">/home/yuekang/test/abnc.txt</span><br><span class=\"line\"></span><br><span class=\"line\">//通过regex\b 正则匹配文件</span><br><span class=\"line\"></span><br><span class=\"line\">root@ykdev /home/yuekang/test</span><br><span class=\"line\">╰─# locate -r &quot;.*\\(\\.pdf\\)&quot;</span><br><span class=\"line\">/home/yuekang/test/ab.pdf</span><br><span class=\"line\">/usr/share/doc/aic94xx-firmware-30/README-94xx.pdf</span><br><span class=\"line\">/usr/share/doc/bzip2-devel-1.0.6/manual.pdf</span><br><span class=\"line\">/usr/share/doc/libtasn1-4.10/libtasn1.pdf</span><br><span class=\"line\">/usr/share/doc/libxml2-devel-2.9.1/tutorial/xmltutorial.pdf</span><br></pre></td></tr></table></figure>","path":"2018/07/04/2018-07-04-find-locate查找文件/","permalink":"https://yuekang.org.cn/2018/07/04/2018-07-04-find-locate%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6/","tags":[{"name":"Linux","_id":"cm0w4eg22005jetsn5w68ehih","slug":"Linux","path":"tags/Linux/","permalink":"https://yuekang.org.cn/tags/Linux/","length":3},{"name":"Shell","_id":"cm0xkkhds0019d3sna1o87zpe","slug":"Shell","path":"tags/Shell/","permalink":"https://yuekang.org.cn/tags/Shell/","length":1}],"categories":[],"prev":{"title":"CGI与FastCGI 学习","date":"2018-07-05T15:16:00.000Z","slug":"2018-07-05-CGI与FastCGI-学习","published":true,"updated":"2024-09-08T06:12:12.699Z","_id":"cm0w4eg1e001petsn4sd356er","layout":"post","photos":[],"excerpt":"","path":"2018/07/05/2018-07-05-CGI与FastCGI-学习/","permalink":"https://yuekang.org.cn/2018/07/05/2018-07-05-CGI%E4%B8%8EFastCGI-%E5%AD%A6%E4%B9%A0/","__post":true},"next":{"title":"Yii-mail模块学习","date":"2018-06-27T14:21:24.000Z","slug":"2018-06-27-Yii-mail模块学习","published":true,"updated":"2024-09-11T07:51:54.764Z","_id":"cm0w4eg1d001netsn1wvb7fbv","layout":"post","photos":[],"excerpt":"","path":"2018/06/27/2018-06-27-Yii-mail模块学习/","permalink":"https://yuekang.org.cn/2018/06/27/2018-06-27-Yii-mail%E6%A8%A1%E5%9D%97%E5%AD%A6%E4%B9%A0/","__post":true},"__post":true}