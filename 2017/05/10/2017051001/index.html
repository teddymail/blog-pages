<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Yue Kang,ykcode@163.com"><title>学习Larvel(Day 1) · 少年当自强</title><meta name="description" content="小博主框架学习之路~"><meta name="keywords" content="HTML,JAVA,CSS,安卓,Android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">少年当自强</a></h3><div class="description"><p>Write the code. Change the World.</p></div></div></div><ul class="social-links"><li><a href="http://weibo.com/teddymail"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/teddymail"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Copyright &copy; Teddy All rights reserved.</span></a><div class="by_farbox"></div><div class="by_farbox"><script src="/js/jquery.js"></script><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cspan id='cnzz_stat_icon_1261418356'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/stat.php%3Fid%3D1261418356%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="http://img.yuekang.org.cn/me.jpg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>学习Larvel(Day 1)</a></h3></div><div class="post-content"><h3 id="今天开始博主要开始学习Larvel啦并将他用在实际的项目中去"><a href="#今天开始博主要开始学习Larvel啦并将他用在实际的项目中去" class="headerlink" title="今天开始博主要开始学习Larvel啦并将他用在实际的项目中去"></a>今天开始博主要开始学习Larvel啦并将他用在实际的项目中去</h3><p>一、 目录结构</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /               根目录</span></span><br><span class="line">  |--- app        应用目录(包含应用程序的核心代码)</span><br><span class="line">        |--- Console          包含应用所有自定义的 Artisan 命令</span><br><span class="line">        |--- Events           用来放置 事件类 的</span><br><span class="line">        |--- Exceptions       应用的异常处理</span><br><span class="line">        |--- Http             包含你的控制器、中间件和请求</span><br><span class="line">        |--- Jobs             用于存放 队列任务(在你执行 make:job 命令生成任务类时，才会出现)</span><br><span class="line">        |--- Listeners</span><br><span class="line">        |--- Mail             邮件发送类(默认不存在，但是可以通过执行 make:mail 命令生成，Mail 目录包含邮件发送类，邮件对象允许你在一个地方封装构建邮件所需的所有业务逻辑，然后使用 <span class="title class_">Mail</span>::<span class="variable constant_">send</span> 方法发送邮件。)</span><br><span class="line">        |--- Notifications    包含应用发送的所有通知，比如事件发生通知（目录默认不存在，你可以通过执行 make:notification 命令创建， ）</span><br><span class="line">        |--- Policies         包含了所有的授权策略类（通过执行 ·make:policy· 命令来创建）</span><br><span class="line">        |--- Providers        包含应用的 服务提供者 （Providers 目录包含应用的 服务提供者 。服务提供者在启动应用过程中绑定服务到容器、注册事件，以及执行其他任务，为即将到来的请求处理做准备。）</span><br><span class="line">  |--- bootstrap  引导目录(目录包含了几个框架启动和自动加载设置的文件)</span><br><span class="line">        |--- <span class="title function_ invoke__">cache</span> (包含框架为提升性能所生成的文件，如路由和服务缓存文件)</span><br><span class="line">  |--- config     配置文件</span><br><span class="line">  |--- database   数据库(包含了数据迁移及填充文件)</span><br><span class="line">  |--- <span class="keyword">public</span>     包含了 Laravel 的 HTTP 入口文件 index.php 和前端资源文件（图片、JavaScript、CSS等）</span><br><span class="line">  |--- resources  资源目录（包含了视图、原始的资源文件 (LESS、SASS、CoffeeScript) ，以及语言包。）</span><br><span class="line">  |--- routes     路由目录（包含了应用的所有路由定义）</span><br><span class="line">  |--- storage    包含编译后的 Blade 模板、基于文件的 session、文件缓存和其它框架生成的文件</span><br><span class="line">        |--- app        用于存储应用程序使用的任何文件</span><br><span class="line">        |--- framework  目录被用于保存框架生成的文件及缓存</span><br><span class="line">        |--- logs        目录包含了应用程序的日志文件</span><br><span class="line">  |--- tests      包含自动化测试</span><br><span class="line">  |--- vendor     包含所有 Composer 依赖</span><br></pre></td></tr></table></figure>

<h4 id="请求的整体流程"><a href="#请求的整体流程" class="headerlink" title="请求的整体流程"></a>请求的整体流程</h4><blockquote>
<p>larvel的请求入口是public&#x2F;index.PHP,我们在开始部署的时候不管你用的是apache还是nginx都会指向这个文件，这是程序的入口。</p>
</blockquote>
<ol>
<li>public&#x2F;index.php 文件</li>
</ol>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| 注册自定义加载类</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span>.<span class="string">&#x27;/../bootstrap/autoload.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| 引入Larvel应用实例（composer生成的自定义加载器定义）</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$app</span> = <span class="keyword">require_once</span> <span class="keyword">__DIR__</span>.<span class="string">&#x27;/../bootstrap/app.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| 创建一个自身应用实例（[服务容器](https://docs.golaravel.com/docs/5.4/container/)）</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="variable">$kernel</span> = <span class="variable">$app</span>-&gt;<span class="title function_ invoke__">make</span>(<span class="title class_">Illuminate\Contracts\Http\Kernel</span>::<span class="variable language_">class</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$response</span> = <span class="variable">$kernel</span>-&gt;<span class="title function_ invoke__">handle</span>(</span><br><span class="line">  <span class="variable">$request</span> = <span class="title class_">Illuminate\Http\Request</span>::<span class="title function_ invoke__">capture</span>()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="variable">$response</span>-&gt;<span class="title function_ invoke__">send</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$kernel</span>-&gt;<span class="title function_ invoke__">terminate</span>(<span class="variable">$request</span>, <span class="variable">$response</span>);</span><br></pre></td></tr></table></figure>

<p>以上是初步分析，后续会继续跟进，大家可以多提提意见，让我成长更快~</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-05-10</span><i class="fa fa-tag"></i><a class="tag" href="/tags/PHP/" title="PHP">PHP </a><a class="tag" href="/tags/Larvel/" title="Larvel">Larvel </a><a class="tag" href="/tags/Web/" title="Web">Web </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,https://teddymail.github.io/blog-pages/2017/05/10/2017051001/,少年当自强,学习Larvel(Day 1),;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2017/05/17/2017051701/" title="Larvel学习 （Day 02）">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2017/04/17/2017041701/" title="实现SOAP接口得适配">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>